# h3 No Strings Attached

## a) Strings. Download ezbin-challenges.zip. Run 'passtr'. Find the correct password using 'strings'. Also find the flag.
Ladataan ensin tehtävään tarvittava zip-tiedosto ezbin-challenges.zip [Tero Karvisen sivuilta](https://terokarvinen.com/application-hacking/#h3-no-strings-attached-tero).

Avataan terminaali ja siirrytään kotihakemiston Downloads -kansioon.

    cd Downloads/

ls -komennolla nähdään, että ladattu zip-tiedosto löytyy tästä hakemistosta. Avataan zip-tiedosto unzip-komennolla.

    unzip ezbin-challenges.zip

Avatun ziptiedoston sisältö löytyy nyt hakemistosta **~/Downloads/challenges**

<img width="705" height="124" alt="image" src="https://github.com/user-attachments/assets/bdb5958e-48fe-4b76-a7a3-09293b5acc62" />

Siirrytään vielä hakemistoon **~/Downloads/challenges/passtr**

<img width="812" height="124" alt="image" src="https://github.com/user-attachments/assets/1c493446-0b04-4432-9f3c-15449a042884" />

Tiedoston **passtr** pystyy nyt suorittamaan.

    ./passtr

<img width="944" height="164" alt="image" src="https://github.com/user-attachments/assets/05e8949d-9774-46eb-a7dc-d2a029540d81" />

Ohjelma kysyy 'What's the password?'. Tämän jälkeen voi itse kirjoittaa mitä tahansa ja enteriä painamalla ohjelma ilmeisesti ilmoittaa onko salasana oikein vai väärin.
Itsellä meni ensimmäinen yritys väärin, joten sain vastaukseksi 'Sorry, no bonus.'.

Tarkastellaan tiedostoa **strings** -komennolla. Kun tiedostoa tutkitaan strings -komennon avulla, 
se tulostaa tiedostosta kaikki merkkijonot, jotka ovat vähintään neljä merkkiä pitkiä ja niitä seuraava tulostuskelvoton merkki (GNU Development Tools: STRINGS manual page).
Strings siis suodattaa kaiken konekielisen tekstin pois ja jättää jäljelle vain luettavissa olevan tekstin binääritiedostosta [(LabEx: Linux strings Command with Practical Examples)](https://labex.io/tutorials/linux-linux-strings-command-with-practical-examples-422934).

    strings passtr | less

Jokainen merkkijono tulostuu omalle rivilleen. Rivejä läpikäydessä löysin samat tekstit, jotka tuli ohjelmaa suorittaessa.
 Tekstistä voi päätellä, että salasana on **sala-hakkeri-321**. Lippu paljastuu myös, kun salasanan saa oikein.

<img width="1085" height="194" alt="image" src="https://github.com/user-attachments/assets/5bbfe3d0-bcc7-4f16-9f4a-6c455a451bd6" />

Testataan tämä vielä suorittamalla ohjelma.

<img width="1217" height="166" alt="image" src="https://github.com/user-attachments/assets/0f4f7d5c-a908-4461-9ce2-6e2b9be79c84" />

Strings -komennolla paljastettu salasana toimi ja lippu löytyi!

## b) Make a new version of the passtr.c program where the password doesn't appear directly as-is in the binary. Demonstrate with a test that the password doesn't appear.

## Lähteet
- Tero Karvinen 2026: Application hacking - 2026 Spring: https://terokarvinen.com/application-hacking/
- GNU Development Tools: STRINGS manual page
- LabEx: Linux strings Command with Practical Examples: https://labex.io/tutorials/linux-linux-strings-command-with-practical-examples-422934
