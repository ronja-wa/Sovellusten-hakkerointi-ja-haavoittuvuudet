# h2 Break & Unbreak
## x) Read/watch/listen and summarize
### OWASP: OWASP Top 10: A01 Broken Access Control
https://owasp.org/Top10/2021/A01_2021-Broken_Access_Control/index.html

- Broken access control eli rikkinäinen pääsynhallinta on yksi yleisimmistä haavoittuvuuksista.
Tämä mahdollistaa luvattoman pääsyn tietoihin, niiden muokkaamisen tai tuhoamisen.
- Yleisiä haavoittuvuuksia on esim:
  - Liian isot käyttöoikeudet (principle of least privilege tai deny by default käyttämättä jättäminen)
  - Pääsynhallinnan ohitus muokkaamalla URLia
  - Korotetut oikeudet
- Haavoittuvuuksia voi estää:
  - Deny by default: Estetään kaikki oletuksena
  - Pääsynhallinnan mekanismien uudelleenkäyttö aplikaation eri osissa
  - Uloskirjautumisen jälkeen istuntotunnisteet tulisi mitätöidä
  - Tulee varmistaa, että käyttäjällä on CRUD-oikeudet vain omiin tietoihin --> Voi muokata vain omia tietoja

 ### Karvinen 2023: Find Hidden Web Directories - Fuzz URLs with ffuf
 https://terokarvinen.com/2023/fuzz-urls-find-hidden-directories/

- Web palvelimilla on usein piilotettuja hakemistoja, joita ei voi löytää klikkailemalla web-sivun linkkejä.
- Ffuf on työkalu, jonka avulla pystyy löytämään näitä piilotettuja hakemistoja ilman manuaalista testailua.
- Piilotettujen hakemistojen löytämisesti täytyy asentaa ffuf ja ladata haluttu sanakirja. Ffuf testaa jokaista sanakirjan sanaa
URLiin määrittelemääsi kohtaan.

### PortSwigger: Access control vulnerabilities and privilege escalation
https://portswigger.net/web-security/access-control

- Pääsynhallinta = Määrittää, onko käyttäjällä valtuuksia päästä resursseihin tai oikeus muokata niitä.
Vaatii autentikaatiota eli varmistetaan käyttäjän olevan kuka väittää olevansa. Autentikaation jälkeen
istunnon hallinta tunnistaa saman käyttäjän HTTP-pyynnöt.
- Vertikaalinen pääsynhallinta = Käyttäjät, joilla on eri rooli tai erilaiset käyttöoikeudet, eivät pysty
pysty suorittamaan toistensa toimintoja.
- Vertical privilege escalation = Käyttäjä saa oikeuksia toimintoihin, joita ei kuuluisi olla. Esim:
  - Suojaamaton toiminto
  - Parametriin pohjautuva pääsynhallinta: Kirjautumisen yhteydessä määritellään käyttäjän oikeudet ja niitä säilytetään
  paikassa, jota käyttäjä voi muokata 
- Horisontaalinen pääsynhallinta = Käyttäjät, joilla on sama rooli tai samat käyttöoikeudet, voivat ainoastaan päästä omiin tietoihinsa käsiksi, ei toisten käyttäjien.
- Horizontal privilege escalation = Käyttäjä pääsee käsiksi jonkun toisen käyttäjän tietoihin.
  - Esim. Muuttamalla URLista jostain parametria, voi päästä toisen käyttäjän tietoihin käsiksi.
- Horizontal to vertical privilege escalation: Käyttäjä pääsee ensin käsiksi jonkun toisen käyttäjän tietoihin, jolla on korkeammat oikeudet ja sitten käyttää näitä korkeampia oikeuksia.
- Konteksti riippuvainen pääsynhallinta = Estää käyttäjää suorittamasta toimintoja väärässä järjestyksessä.
- Pääsynhallinnan haavoittuvuuksia hallitaan defense-in-depth lähestymistavalla.

### Karvinen 2006: Report Writing
https://terokarvinen.com/2006/raportin-kirjoittaminen-4/

- Raportissa kerrotaan täsmällisesti tapahtumien kulku ja sitä kirjoitetaan samaan aikaan tekemisen ohella.
- Raportin vaatimukset:
  - Toistettava: Raportoitu työ tulee olla toistettavissa samalla lopputuloksella seuraamalla raportin vaiheita.
  - Täsmällinen: Raportin tulee olla yksityiskohtainen (komennot, kellonajat, onnistumiset, epäonnistumiset, työkalut, ympäristö)
  - Helppolukuinen: Käytettävä otsikoita ja väliotsikoita sekä kirjoittaa huolellisesti.
  - Lähdeviitteet: Lähdeluettelo ja viitteet
- Tulee raportoida vain oikean tekemisen pohjalta, raporttia ei saa keksiä tyhjästä.
- Plagiointi ja kuvien luvaton kopiointi on kielletty.
  

## Lähteet
- OWASP: OWASP Top 10: A01 Broken Access Control: https://owasp.org/Top10/2021/A01_2021-Broken_Access_Control/index.html
- Karvinen 2023: Find Hidden Web Directories - Fuzz URLs with ffuf: https://terokarvinen.com/2023/fuzz-urls-find-hidden-directories/
- PortSwigger: Access control vulnerabilities and privilege escalation: https://portswigger.net/web-security/access-control
- Karvinen 2006: Report Writing: https://terokarvinen.com/2006/raportin-kirjoittaminen-4/
